{% extends 'base.html' %}

{% block body %}
<div class="container">
    <div class="column">
        <div class="form-group">
            <form method="POST" action="">
                <legend class="border-bottom mb-4">Database with information about movies</legend>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Look up any movie in our database</label>
                    <input type="text" class="form-control" list="movietitle" name ="movietitle" placeholder="Type or click to search.." autocomplete="off">
                    <datalist id="movietitle">
                        {% for title in alltitles %}
                            <option value= "{{ title.title }}">{{ title.title }}</option>
                        {% endfor %}
                    </datalist>
                </div>
                <button type="submit" class="btn btn-primary">Search</button>
            </form>
        </div>
        <table class="table table-hover">
            <!-- Result of reccomended movies query, with title and info. -->
            {% for res in result %}
            <tr>
               <th>Title</th>
               <th>IMDB Rating</th>
               <th>Genre</th>
               <th>Director</th>
               <th>Actors</th>
               <th>Description</th>
            </tr>
            <tr>
               <td>{{ res.title }}</td>
               <td>{{res.rating}}</td>
               <td>{{res.genre}}</td>
               <td>{{res.directorname}}</td>
               <td>{{res.actors}}</td>
               <td>{{res.description}}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
</div>
{% endblock body %}